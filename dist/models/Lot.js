"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LotSchema = void 0;
const mongoose = require("mongoose");
const BidSchema = new mongoose.Schema({
    Amount: {
        type: Number,
        index: true
    },
    Registration: { type: mongoose.Schema.Types.ObjectId, ref: 'Registration' },
    createdAt: Date,
    IpAddress: String
});
const ArtistPaidChangeLog = new mongoose.Schema({
    Registration: { type: mongoose.Schema.Types.ObjectId, ref: 'Registration' },
    User: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
    createdAt: Date,
    PaidStatus: { type: mongoose.Schema.Types.ObjectId, ref: 'PaymentStatus' },
    Artist: { type: mongoose.Schema.Types.ObjectId, ref: 'Contestants' }
});
const BuyerPaidChangeLog = new mongoose.Schema({
    Registration: { type: mongoose.Schema.Types.ObjectId, ref: 'Registration' },
    User: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
    createdAt: Date,
    PaidStatus: { type: mongoose.Schema.Types.ObjectId, ref: 'PaymentStatus' },
    Buyer: { type: mongoose.Schema.Types.ObjectId, ref: 'Registration' }
});
exports.LotSchema = new mongoose.Schema({
    ArtId: { type: String, unique: true, index: true },
    EaselNumber: Number,
    Event: { type: mongoose.Schema.Types.ObjectId, ref: 'Event' },
    Round: Number,
    Bids: [BidSchema],
    Winner: { type: mongoose.Schema.Types.ObjectId, ref: 'Registration' },
    WinningBidAmount: Number,
    Status: { type: Number, index: true },
    Description: { type: String },
    WidthAndHeight: { type: String },
    ArtistPayRecentStatus: { type: mongoose.Schema.Types.ObjectId, ref: 'PaymentStatus' },
    BuyerPayRecentStatus: { type: mongoose.Schema.Types.ObjectId, ref: 'PaymentStatus' },
    ArtistPayRecentDate: { type: Date },
    BuyerPayRecentDate: { type: Date },
    ArtistPaidChangeLog: [ArtistPaidChangeLog],
    BuyerPaidChangeLog: [BuyerPaidChangeLog],
    BuyerPayRecentRegistration: { type: mongoose.Schema.Types.ObjectId, ref: 'Registration' },
    BuyerPayRecentUser: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
    ArtistPayRecentRegistration: { type: mongoose.Schema.Types.ObjectId, ref: 'Registration' },
    ArtistPayRecentUser: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
    /*Follow/Following Start*/
    Contestant: { type: mongoose.Schema.Types.ObjectId, ref: 'Contestant', index: true },
    ArtistId: { type: Number, index: true }
    /*
    Images: [{
        'Original': {
            url: String,
            id: { type: mongoose.Schema.Types.ObjectId, ref: 'Media' }
        },
        'Thumbnail': {
            url: String,
            id: { type: mongoose.Schema.Types.ObjectId, ref: 'Media' }
        },
        'Compressed': {
            url: String,
            id: { type: mongoose.Schema.Types.ObjectId, ref: 'Media' }
        }
    }],
    Videos: [{
        'Original': {
            url: String,
            id: { type: mongoose.Schema.Types.ObjectId, ref: 'Media' }
        },
    }],
    Follow/Following End*/
}, { timestamps: true });
const LotModel = mongoose.model('Lot', exports.LotSchema);
exports.default = LotModel;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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OzswQkFxQnNCO0NBQ3pCLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUV6QixNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFjLEtBQUssRUFBRSxpQkFBUyxDQUFDLENBQUM7QUFDL0Qsa0JBQWUsUUFBUSxDQUFDIiwiZmlsZSI6Im1vZGVscy9Mb3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgTG90RFRPIGZyb20gJy4uLy4uLy4uL3NoYXJlZC9Mb3REVE8nO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgTG90RG9jdW1lbnQgZXh0ZW5kcyBMb3REVE8sIG1vbmdvb3NlLkRvY3VtZW50IHt9XG5cbmNvbnN0IEJpZFNjaGVtYTogbW9uZ29vc2UuU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgQW1vdW50OiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgaW5kZXg6IHRydWVcbiAgICB9LFxuICAgIFJlZ2lzdHJhdGlvbjoge3R5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnUmVnaXN0cmF0aW9uJ30sXG4gICAgY3JlYXRlZEF0OiBEYXRlLFxuICAgIElwQWRkcmVzczogU3RyaW5nXG59KTtcbmNvbnN0IEFydGlzdFBhaWRDaGFuZ2VMb2c6IG1vbmdvb3NlLlNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIFJlZ2lzdHJhdGlvbjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1JlZ2lzdHJhdGlvbid9LFxuICAgIFVzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJ30sXG4gICAgY3JlYXRlZEF0OiBEYXRlLFxuICAgIFBhaWRTdGF0dXM6IHt0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1BheW1lbnRTdGF0dXMnfSxcbiAgICBBcnRpc3Q6IHt0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ0NvbnRlc3RhbnRzJ31cbn0pO1xuY29uc3QgQnV5ZXJQYWlkQ2hhbmdlTG9nOiBtb25nb29zZS5TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICBSZWdpc3RyYXRpb246IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdSZWdpc3RyYXRpb24nfSxcbiAgICBVc2VyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcid9LFxuICAgIGNyZWF0ZWRBdDogRGF0ZSxcbiAgICBQYWlkU3RhdHVzOiB7dHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdQYXltZW50U3RhdHVzJ30sXG4gICAgQnV5ZXI6IHt0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1JlZ2lzdHJhdGlvbid9XG59KTtcblxuZXhwb3J0IGNvbnN0IExvdFNjaGVtYTogbW9uZ29vc2UuU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgQXJ0SWQ6IHt0eXBlOiBTdHJpbmcsIHVuaXF1ZTogdHJ1ZSwgaW5kZXg6IHRydWV9LFxuICAgIEVhc2VsTnVtYmVyOiBOdW1iZXIsXG4gICAgRXZlbnQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdFdmVudCd9LFxuICAgIFJvdW5kOiBOdW1iZXIsXG4gICAgQmlkczogW0JpZFNjaGVtYV0sXG4gICAgV2lubmVyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnUmVnaXN0cmF0aW9uJ30sXG4gICAgV2lubmluZ0JpZEFtb3VudDogTnVtYmVyLFxuICAgIFN0YXR1czogeyB0eXBlOiBOdW1iZXIsIGluZGV4OiB0cnVlfSxcbiAgICBEZXNjcmlwdGlvbjoge3R5cGU6IFN0cmluZ30sXG4gICAgV2lkdGhBbmRIZWlnaHQ6IHt0eXBlOiBTdHJpbmd9LFxuICAgIEFydGlzdFBheVJlY2VudFN0YXR1czoge3R5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnUGF5bWVudFN0YXR1cyd9LFxuICAgIEJ1eWVyUGF5UmVjZW50U3RhdHVzOiB7dHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdQYXltZW50U3RhdHVzJ30sXG4gICAgQXJ0aXN0UGF5UmVjZW50RGF0ZToge3R5cGU6IERhdGV9LFxuICAgIEJ1eWVyUGF5UmVjZW50RGF0ZToge3R5cGU6IERhdGV9LFxuICAgIEFydGlzdFBhaWRDaGFuZ2VMb2c6IFtBcnRpc3RQYWlkQ2hhbmdlTG9nXSxcbiAgICBCdXllclBhaWRDaGFuZ2VMb2c6IFtCdXllclBhaWRDaGFuZ2VMb2ddLFxuICAgIEJ1eWVyUGF5UmVjZW50UmVnaXN0cmF0aW9uOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnUmVnaXN0cmF0aW9uJ30sXG4gICAgQnV5ZXJQYXlSZWNlbnRVc2VyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcid9LFxuICAgIEFydGlzdFBheVJlY2VudFJlZ2lzdHJhdGlvbjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1JlZ2lzdHJhdGlvbid9LFxuICAgIEFydGlzdFBheVJlY2VudFVzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJ30sXG4gICAgLypGb2xsb3cvRm9sbG93aW5nIFN0YXJ0Ki9cbiAgICBDb250ZXN0YW50OiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnQ29udGVzdGFudCcsIGluZGV4OiB0cnVlfSxcbiAgICBBcnRpc3RJZDoge3R5cGU6IE51bWJlciwgaW5kZXg6IHRydWV9XG4gICAgLypcbiAgICBJbWFnZXM6IFt7XG4gICAgICAgICdPcmlnaW5hbCc6IHtcbiAgICAgICAgICAgIHVybDogU3RyaW5nLFxuICAgICAgICAgICAgaWQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdNZWRpYScgfVxuICAgICAgICB9LFxuICAgICAgICAnVGh1bWJuYWlsJzoge1xuICAgICAgICAgICAgdXJsOiBTdHJpbmcsXG4gICAgICAgICAgICBpZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ01lZGlhJyB9XG4gICAgICAgIH0sXG4gICAgICAgICdDb21wcmVzc2VkJzoge1xuICAgICAgICAgICAgdXJsOiBTdHJpbmcsXG4gICAgICAgICAgICBpZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ01lZGlhJyB9XG4gICAgICAgIH1cbiAgICB9XSxcbiAgICBWaWRlb3M6IFt7XG4gICAgICAgICdPcmlnaW5hbCc6IHtcbiAgICAgICAgICAgIHVybDogU3RyaW5nLFxuICAgICAgICAgICAgaWQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdNZWRpYScgfVxuICAgICAgICB9LFxuICAgIH1dLFxuICAgIEZvbGxvdy9Gb2xsb3dpbmcgRW5kKi9cbn0sIHsgdGltZXN0YW1wczogdHJ1ZSB9KTtcblxuY29uc3QgTG90TW9kZWwgPSBtb25nb29zZS5tb2RlbDxMb3REb2N1bWVudD4oJ0xvdCcsIExvdFNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBMb3RNb2RlbDsiXX0=
